<style>
    .content {
        overflow: hidden;
    }

    @import "http://fonts.googleapis.com/css?family=Roboto:300,400,500,700";

    .container {
        margin-top: 20px;
    }

    @media screen and (max-width: 600px) {

        .sc_image {
            display: none;
        }
        h4 {
            font-size: 12px;
        }
    }

    div.stars {
        width: 180px;
        display: inline-block;
    }

    input.star {
        display: none;
    }

    label.star {
        float: right;
        padding: 10px;
        font-size: 15px;
        color: #444;
        transition: all .2s;
    }

    input.star:checked~label.star:before {
        content: '\f005';
        color: crimson;
        transition: all .25s;
    }

    input.star-5:checked~label.star:before {
        color: crimson;
        text-shadow: 0 0 20px #952;
    }

    li.filter-cat {
        display: inline;
    }

    input.star-1:checked~label.star:before {
        color: #F62;
    }

    label.star:hover {
        transform: rotate(-15deg) scale(1.3);
    }

    label.star:before {
        content: '\f006';
        font-family: FontAwesome;
    }


    .sc_image {
        margin-top: 1%;
    }

    .nohover {


        background-color: white !important;
    }

    td {
        padding: 0;
    }

    .content img {

        float: left;
    }

    .table thead tr th,
    .table tbody tr td {
        font-size: 14px;
    }

    p {
        margin-top: 0;
        margin-bottom: 0.5rem;
    }


    .left-nav,
    .right-nav {
        float: left;
    }

    .right-nav {
        margin-left: 20px;
    }

    a {
        cursor: pointer;
    }
</style>
<link href="styles/main.css" rel="stylesheet">
<script>
    /*$('#my-works-table').DataTable( {
    responsive: true
} ); */

</script>

<div class="container">
    <div class="row">



        <div id="exTab2">
            <ul class="nav nav-tabs">
                <li>
                    <a class=" navjobs active" ui-sref="app.currentjobs">Current</a>
                </li>
                <li><a ui-sref="app.pendingjobs">Pending</a>
                </li>
                <li><a ui-sref="app.historyjobs">History</a>
                </li>
                <li style="float:right;"> <a data-toggle="collapse" class="advancesearch" data-target="#filter-panel">
                 <span class="glyphicon glyphicon-cog"></span> Advanced Search
                 </a>
                </li>
            </ul>

            <hgroup class="mb20">

                <h2 class="lead">

                </h2>
                <div class="filter">
                    <!--                                    <div class="block-title">-->

                    <!--                         
                    <div class="col-md-2">-->
                    <div id="filter-panel" class="collapse filter-panel">
                        <div class="panel panel-default">
                            <div class="panel-body">

                                <form class="form" role="form">
                                    <div class="form-group">
                                        <div data-target="#filter-category" class="subtitle filter-categories" data-toggle="collapse" href="#filter-category">Category</div>
                                        <div class="collapse filter-category" id="filter-category">
                                            <ul class="list-filter-category">
                                                <li class="filter-cat" ng-repeat="category in categoryGroup">
                                                    <input type="checkbox" ng-model="useCategory[category]" /> {{category}}
                                                    &emsp;
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div data-toggle="collapse" data-target="#filter-location" class="subtitle filter-categories" href="#filter-location">Location</div>
                                        <div id="filter-location" class="collapse filter-location" style="padding:0 15px;">
                                            <ul class="list-filter-category">
                                                <li class="filter-cat" ng-repeat="location in locationGroup">
                                                    <input type="checkbox" ng-model="useLocation[location]" /> {{location}}
                                                    &emsp;

                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

            </hgroup>
        </div>
















        <table id="my-works-table" class="table table-hover" api="api">
            <thead>

                <td>Contract </td>
                <td>Full Name </td>
                <td>Start Date </td>
                <td>End Date </td>
                <td>Location </td>

            </thead>
            <tbody class="tBody">
                <tr class="rowTabnle" ng-repeat-start="a in filteredAppointments" ng-init="a.expanded=$first">
                    <td>
                        <i class=" glyphicon glyphicon-chevron-up " ng-if="a.expanded" ng-click="a.expanded = false"></i>
                        <i class=" glyphicon glyphicon-chevron-down" ng-if="!a.expanded" ng-click="a.expanded = true"></i>                        {{a.contract_id}}
                    </td>
                    <td>{{a.first_name}} {{a.last_name}}</td>

                    <td>{{a.start_date}}</td>
                    <td>{{a.end_date}}</td>
                    <td>{{a.location}}</td>
                    <td style="display:none;">{{a.month}}</td>

                </tr>

                <tr class="nohover" ng-if="a.expanded" ng-repeat-end="">

                    <td colspan="5">
                        <div class="col-xs-12 col-sm-12 col-md-3">


                            <img class="sc_image" src="images/Marie.jpg" style="width:160px; height:160px;" alt="" />


                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-4">
                            <ul class="meta-search" style="margin-top:1%;padding-left:0;">
                                <li>
                                    <h6 id="worker-name">{{a.first_name}} {{a.last_name}}

                                </li>

                                <li>
                                    <p id="worker-header"><strong>Tittle:</strong> {{a.title}}</p>
                                </li>
                                <li>
                                    <p><strong>Phone:</strong><a style="color:#2b6732;text-decoration:underline;" href="tel:{{a.phone}}">{{a.phone}}</a></p>
                                </li>
                                <li>
                                    <p><strong>Email:</strong><a style="color:#2b6732;text-decoration:underline;" target="_blank"
                                            href="mailto:{{a.Email}}">{{a.Email}}</a></p>
                                </li>

                                <li> <strong>Rate: {{a.wage}}</strong>/hour</li>
                            </ul>
                        </div>

    
    <div class="col-xs-12 col-sm-12 col-md-4" style="margin-top:4%;">


        <button id="myBtn(a.status)" class="btn btn-sm btn-block" ng-click="modalDisp(a.contract_id)" data-toggle="modal" style="background-color:#61c46e;color:white;"
            data-target="#myModal">Actions</button>
        <br>
        <a ui-sref="app.messagesPage"><button class="btn  btn-sm btn-block" style="background-color:#61c46e;color:white;"><i class="glyphicon glyphicon-envelope"></i> Send</button></a>
    </div>
    </td>







    </tr>
    </tbody>

    </table>
    <!--Modal-->
</div>
</div>



<div class="modal " id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Actions</h4>
            </div>
            <div class="modal-body">
                <h3> </h3>
                <button class="btn btn-info btn-sm " style="background-color: #5dc26a;;color:white;" onclick="myFunction()"> Finish</button>

                <button class="btn btn-info btn-sm " onclick="createContract()" style="background-color:#5dc26a;color:white;" id="showContract">Create a new contract</button>
                <div id="newContract" style="display: none; margin-bottom:10%;">
                    <hr>
                    <div class="form-group">
                        <label for="time">Time: </label>
                        <div class='input-group date' id='datetimepicker'>
                            <input name="startTime" class="form-control" ng-model="startTime" id="startTime" required ng-pattern="/\d{2}/\d{2}/\d{4} \d{2}:\d{2}/"
                                ng-blur="updateTime()" />
                            <span class="input-group-addon">
							    <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="time">Time: </label>
                        <div class='input-group date' id='datetimepicker1'>
                            <input name="endTime" class="form-control" ng-model="endTime" id="endTime" required ng-pattern="/\d{2}/\d{2}/\d{4} \d{2}:\d{2}/"
                                ng-blur="updateTime()" />
                            <span class="input-group-addon">
						<span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                    </div>
                    <button class="btn btn-info btn-sm " class="close" <button type="button" id="myBtn{{currentSelected}}" ng-disabled="startTime=='' || endTime =='' || startTime==undefined || endTime ==undefined"
                        ng-click="addItem(currentSelected)" class="close" data-dismiss="modal" style="background-color:#61c46e;color:white; float:right;"> Finish</button>
                </div>

            </div>

            <div id="Divrating" style="display: none; margin-bottom:10%;">
                <hr>
                <div class="container" style="margin-left:30%;margin-right:auto;">

                    <h6>Please Rate Your Exaprience</h6>

                    <div class="stars">
                        <form action="">
                            <input class="star star-5" id="star-5" type="radio" name="star" />
                            <label class="star star-5" for="star-5"></label>
                            <input class="star star-4" id="star-4" type="radio" name="star" />
                            <label class="star star-4" for="star-4"></label>
                            <input class="star star-3" id="star-3" type="radio" name="star" />
                            <label class="star star-3" for="star-3"></label>
                            <input class="star star-2" id="star-2" type="radio" name="star" />
                            <label class="star star-2" for="star-2"></label>
                            <input class="star star-1" id="star-1" type="radio" name="star" />
                            <label class="star star-1" for="star-1"></label>
                        </form>
                    </div>
                </div>
                <div style="float:right; margin-right:5%;">
                    <input class="btn btn-sm mybutton1" type="button" id="myBtn{{currentSelected}}" ng-click="testClick(currentSelected)" class="close"
                        data-dismiss="modal" style="background-color:#61c46e;color:white; " value="Finish">
                </div>
            </div>
        </div>
    </div>


    <!-- End Modal-->


</div>

<script>
    function myFunction() {
        document.getElementById("Divrating").style.display = "block";
        document.getElementById("newContract").style.display = "none";
    }

    function createContract() {
        document.getElementById("Divrating").style.display = "none";
        document.getElementById("newContract").style.display = "block";
    }

    // Get the modal
    var modal = document.getElementById('myModal');

    // Get the button that opens the modal
    var btn = document.getElementById("myBtn1");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks the button, open the modal 
    /*btn.onclick = function() {
        modal.style.display = "block";
    }*/

    $(document).ready(function () {
        $('#datetimepicker').datetimepicker({
            format: 'YYYY-MM-DD',
        });
        $('#datetimepicker1').datetimepicker({
            format: 'YYYY-MM-DD',
        });
    });


    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

</script>
</div>